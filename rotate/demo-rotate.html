<!doctype html><html><head><meta charset="utf-8"><title>转盘</title><style>	*{padding:0;margin:0}	body{		text-align:center	}	.ly-plate{		position:relative;		width:509px;		height:509px;		margin: 50px auto;	}	.rotate-bg{		width:509px;		height:509px;		/*background:url(ly-plate.png);*/		position:absolute;		top:0;		left:0	}	.ly-plate div.lottery-star{		width:214px;		height:214px;		position:absolute;		top:150px;		left:147px;		/*text-indent:-999em;		overflow:hidden;		background:url(rotate-static.png);		-webkit-transform:rotate(0deg);*/		outline:none	}	.ly-plate div.lottery-star #lotteryBtn{		cursor: pointer;		position: absolute;		top:0;		left:0;		*left:-107px	}	/*响应式*/	@media only screen and (max-width: 480px) {		.rotate-bg img,.ly-plate div.lottery-star img{			max-width: 100%;			height: auto;		}		.ly-plate{			width: 90%; height: auto; margin: 5% auto;		}		.rotate-bg{			width: 100%; height: auto;		}		.ly-plate div.lottery-star{ width: 42.04322200392927%; height: 42.04322200392927%; top:29.46954813359528%; left:28.88015717092338%; }	}</style></head><body>	<div class="ly-plate">		<div class="rotate-bg"><img src="ly-plate.png"><div class="lottery-star"><img src="rotate-static.png" id="lotteryBtn"></div></div>			</div></body><script src="jquery-1.7.2.min.js"></script><script src="jQueryRotate.2.2.js"></script><script src="jquery.easing.min.js"></script><script>$(function(){	var timeOut = function(){  //超时函数		$("#lotteryBtn").rotate({			angle:0, 			duration: 10000, 			animateTo: 2160, //这里是设置请求超时后返回的角度，所以应该还是回到最原始的位置，2160是因为我要让它转6圈，就是360*6得来的			callback:function(){				alert('网络超时')			}		}); 	}; 	var rotateFunc = function(awards,angle,text){  //awards:奖项，angle:奖项对应的角度		$('#lotteryBtn').stopRotate();		$("#lotteryBtn").rotate({			angle:0, 			duration: 5000, 			animateTo: angle+1440, //angle是图片上各奖项对应的角度，1440是我要让指针旋转4圈。所以最后的结束的角度就是这样子^^			callback:function(){				alert(text)			}		}); 	};		$("#lotteryBtn").rotate({ 	   bind: 		 { 			click: function(){				var time = [0,1];					time = time[Math.floor(Math.random()*time.length)];				if(time==0){					timeOut(); //网络超时				}				if(time==1){					var data = [1,2,3,0,0,0,0,0,0,0,0,0,0]; //返回的数组,调抽奖的概率						data = data[Math.floor(Math.random()*data.length)];						console.log(data);					if(data==1){						rotateFunc(1,157,'恭喜您抽中的一等奖')					}					if(data==2){						rotateFunc(2,247,'恭喜您抽中的二等奖')					}					if(data==3){						rotateFunc(3,22,'恭喜您抽中的三等奖')					}					if(data==0){						var angle = [67,112,202,292,337];							angle = angle[Math.floor(Math.random()*angle.length)]						rotateFunc(0,angle,'很遗憾，这次您未抽中奖')					}				}			}		 } 	   	});	/*这里的time跟data是要从后台获取的，但这里只是静态页面，所以我就利用了random随机数来尽量模拟抽奖的过程了。time参数表示从后台请求是否成功，0是请求超时，1是请求成功(成功后再判断返回的值是什么样);data就是请求返回的数据，1，2，3表示一二三等奖，0是不中奖，根据返回的数据，再去设置指针旋转的角度。因为这个图片上的角度无法用公式计算出来，所以只能这样子计算出来后定死。如果比较规则的话，应该可以用公式计算。*/	})</script></html>